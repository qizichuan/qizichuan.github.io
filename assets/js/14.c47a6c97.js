(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{500:function(s,t,a){s.exports=a.p+"assets/img/1668130961376.8715efa6.png"},501:function(s,t,a){s.exports=a.p+"assets/img/1668152687754.77bf786a.png"},502:function(s,t,a){s.exports=a.p+"assets/img/1668155531788.7d09eaf6.png"},503:function(s,t,a){s.exports=a.p+"assets/img/1668179600490.a2bcb8b4.png"},504:function(s,t,a){s.exports=a.p+"assets/img/1668179589955.3eb71a6b.png"},602:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("介绍")]),s._v(" "),t("p",[s._v("人脸识别是一项热门的计算机技术研究领域，本篇博客介绍的人脸识别项目是基于opencv实现的人脸录入、打卡、导出并使用语音操作。")])]),s._v(" "),t("h2",{attrs:{id:"一、基于opencv实现人脸识别的简单使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、基于opencv实现人脸识别的简单使用"}},[s._v("#")]),s._v(" 一、基于opencv实现人脸识别的简单使用")]),s._v(" "),t("h3",{attrs:{id:"_1、安装opencv的库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、安装opencv的库"}},[s._v("#")]),s._v(" 1、安装opencv的库")]),s._v(" "),t("div",{staticClass:"language-dos line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("pip install -i https://pypi.tuna.tsinghua.edu.cn/simple opencv-python\npip install -i https://pypi.tuna.tsinghua.edu.cn/simple opencv-contrib-python\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_2、下载opencv提供的分类器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、下载opencv提供的分类器"}},[s._v("#")]),s._v(" 2、下载opencv提供的分类器")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://opencv.org/releases/",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网https://opencv.org/releases/"),t("OutboundLink")],1),s._v("  选择你要的版本Windows，学习的话，用最新的就行")]),s._v(" "),t("p",[t("img",{attrs:{src:a(500),alt:"1668130961376"}})]),s._v(" "),t("p",[s._v("觉得下载慢，就用这个下载，可以不全部下载，只下载人脸检测的分类器，深入学习时，再去下载需要的东西")]),s._v(" "),t("p",[s._v("百度网盘链接：https://pan.baidu.com/s/1uPZ0tG_6ZemfA4cU7_ztHQ?pwd=ze8j\n提取码：ze8j")]),s._v(" "),t("p",[t("img",{attrs:{src:a(501),alt:"1668152687754"}})]),s._v(" "),t("p",[s._v("自带的分类器很多，想研究哪里，就用那个吧，目录opencv/data/haarcascades")]),s._v(" "),t("ul",[t("li",[s._v("haarcascade_eye 睁开的眼睛的检测")]),s._v(" "),t("li",[s._v("haarcascade_eye_tree_eyeglasses 戴眼镜时睁开的眼睛")]),s._v(" "),t("li",[s._v("haarcascade_frontalcatface      正脸检测")]),s._v(" "),t("li",[s._v("haarcascade_frontalcatface_extended     正脸检测")]),s._v(" "),t("li",[s._v("haarcascade_frontalface_alt     正脸检测")]),s._v(" "),t("li",[s._v("haarcascade_frontalface_alt_tree        正脸检测")]),s._v(" "),t("li",[s._v("haarcascade_frontalface_alt2    正脸检测")]),s._v(" "),t("li",[s._v("haarcascade_frontalface_default 正脸检测")]),s._v(" "),t("li",[s._v("haarcascade_fullbody    全身检测")]),s._v(" "),t("li",[s._v("haarcascade_lefteye_2splits     检测左眼开或闭合")]),s._v(" "),t("li",[s._v("haarcascade_licence_plate_rus_16stages  俄罗斯车牌")]),s._v(" "),t("li",[s._v("haarcascade_lowerbody   下肢检测")]),s._v(" "),t("li",[s._v("haarcascade_profileface 人脸轮廓检测")]),s._v(" "),t("li",[s._v("haarcascade_righteye_2splits    检测右眼开或闭合")]),s._v(" "),t("li",[s._v("haarcascade_russian_plate_number        俄罗斯车牌号")]),s._v(" "),t("li",[s._v("haarcascade_smile       微笑表情检测")]),s._v(" "),t("li",[s._v("haarcascade_upperbody   上半身检测")])]),s._v(" "),t("p",[t("img",{attrs:{src:a(502),alt:"1668155531788"}})]),s._v(" "),t("h2",{attrs:{id:"简单的使用python-opencv"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#简单的使用python-opencv"}},[s._v("#")]),s._v(" 简单的使用python-opencv")]),s._v(" "),t("h3",{attrs:{id:"_1、cv2打开摄像头或者本地视频"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、cv2打开摄像头或者本地视频"}},[s._v("#")]),s._v(" 1、cv2打开摄像头或者本地视频")]),s._v(" "),t("p",[t("font",{staticStyle:{color:"red"}},[s._v("按键盘上的q退出，以确保不卡内存")])],1),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" cv2\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用cv2播放本地的视频（这里本地视频叫做1.mp4）")]),s._v("\ncap "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("VideoCapture"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1.mp4'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用cv2调用本地摄像头")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cap = cv2.VideoCapture(0)")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 循环执行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取图像数据")]),s._v("\n    ret"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" frame "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cap"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("read"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("not")]),s._v(" ret"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改显示的尺寸（600x400）    ")]),s._v("\n    frame "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("resize"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("frame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" dsize"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("400")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在capture窗体中展示图像")]),s._v("\n    cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("imshow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"capture"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("frame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cv2.waitKey(0), 表示程序会无限制的等待用户的按键事件；")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cv2.waitKey(1), 表示程序每1ms检测一次按键，检测到返回按键值，检测不到返回 - 1；")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cv2.waitKey(100), 表示程序每100ms检测一次按键，检测到返回按键值，检测不到返回 - 1；")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("waitKey"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0xFF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("ord")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'q'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将capture窗体中显示的图片保存到now.jpg，然后结束程序")]),s._v("\n        cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("imwrite"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"now.jpg"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" frame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 释放内存")]),s._v("\ncap"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("release"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ncv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("destroyAllWindows"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br")])]),t("p",[s._v("注释够细节吧，哈哈")]),s._v(" "),t("h3",{attrs:{id:"_2、检测人脸-画框框"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、检测人脸-画框框"}},[s._v("#")]),s._v(" 2、检测人脸，画框框")]),s._v(" "),t("p",[s._v("这里用到了opencv 自带的人脸特征分类器 opencv4.6/haarcascade_frontalface_alt2.xml或opencv4.6/haarcascade_frontalface_default.xml")]),s._v(" "),t("p",[s._v("可以画正方形或者圆形框框，都在注释里了")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" cv2\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用cv2播放本地的视频（这里本地视频叫做1.mp4）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cap = cv2.VideoCapture('1.mp4')")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用cv2调用本地摄像头")]),s._v("\ncap "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("VideoCapture"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 循环执行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取图像数据")]),s._v("\n    ret"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" frame "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cap"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("read"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("not")]),s._v(" ret"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改显示的尺寸（600x400）")]),s._v("\n    frame "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("resize"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("frame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" dsize"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("400")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 人脸检测")]),s._v("\n    gary "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cvtColor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("frame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("COLOR_BGR2GRAY"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# opencv提供的人脸特征分类器 下面俩是最快且最准的")]),s._v("\n    face_detect "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CascadeClassifier"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'opencv4.6/haarcascade_frontalface_alt2.xml'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# face_detect = cv2.CascadeClassifier('opencv4.6/haarcascade_frontalface_default.xml')")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     gray：表示当前帧的图片")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     1.01：表示每次检测人脸扩大的倍数")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     5：表示连续检测5次都为人脸时候，才确定是人脸")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#     0：一般都用默认值0，不用改")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# （100，100）：表示检测人脸最小的人脸，低于100 * 100的人脸检测不出")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# （300，300）：表示能检测到最大的人脸，高于300 * 300的人脸检测不出")]),s._v("\n    face "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" face_detect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("detectMultiScale"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("gary"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.01")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# face人脸识别的位置")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" w"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" h "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" face"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 读取人脸识别的位置与响应的区域大小，并画正方形圈出来。")]),s._v("\n        cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rectangle"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("frame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" w"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" h"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" color"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" thickness"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 读取人脸识别的位置与响应的区域大小，并画圆出来。")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cv2.circle(frame, center=(x + w // 2, y + h // 2), radius=w // 2, color=(0, 255, 0), thickness=1)")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在capture窗体中展示图像")]),s._v("\n    cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("imshow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"capture"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" frame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cv2.waitKey(0), 表示程序会无限制的等待用户的按键事件；")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cv2.waitKey(1), 表示程序每1ms检测一次按键，检测到返回按键值，检测不到返回 - 1；")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cv2.waitKey(100), 表示程序每100ms检测一次按键，检测到返回按键值，检测不到返回 - 1；")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("waitKey"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0xFF")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("ord")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'q'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 释放内存")]),s._v("\ncap"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("release"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ncv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("destroyAllWindows"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br")])]),t("h3",{attrs:{id:"_3、画框框加保存图片"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、画框框加保存图片"}},[s._v("#")]),s._v(" 3、画框框加保存图片")]),s._v(" "),t("p",[s._v("使用time库，产生时间戳，以确保文件名不会重复")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("import cv2, time\n\n# 使用cv2播放本地的视频（这里本地视频叫做1.mp4）\n# cap = cv2.VideoCapture('1.mp4')\n# 使用cv2调用本地摄像头\ncap = cv2.VideoCapture(0)\n# 循环执行\nwhile True:\n    # 获取图像数据\n    ret, frame = cap.read()\n    if not ret:\n        break\n    # 修改显示的尺寸（600x400）\n    frame = cv2.resize(frame, dsize=(600, 400))\n\n\n    # cv2.waitKey(0), 表示程序会无限制的等待用户的按键事件；\n    # cv2.waitKey(1), 表示程序每1ms检测一次按键，检测到返回按键值，检测不到返回 - 1；\n    # cv2.waitKey(100), 表示程序每100ms检测一次按键，检测到返回按键值，检测不到返回 - 1；\n    key = cv2.waitKey(1) & 0xFF\n    # 按s保持当前图像为图片\n    if key == ord('s'):\n        # 防止图片名字重复，使用时间戳为图片的名字\n        now_time = str(round(time.time() * 1000))\n        # 需要在当前目录新建一个img目录\n        cv2.imwrite(\"img/\" + now_time + \".jpg\", frame)\n        print(\"成功保存到图片：\" + now_time + \".jpg\")\n    # 按q退出\n    elif key == ord('q'):\n        break\n\n\n    # 人脸检测\n    gary = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\n    # opencv提供的人脸特征分类器 下面俩是最快且最准的\n    face_detect = cv2.CascadeClassifier('opencv4.6/haarcascade_frontalface_alt2.xml')\n    # face_detect = cv2.CascadeClassifier('opencv4.6/haarcascade_frontalface_default.xml')\n    #     gray：表示当前帧的图片\n    #     1.01：表示每次检测人脸扩大的倍数\n    #     5：表示连续检测5次都为人脸时候，才确定是人脸\n    #     0：一般都用默认值0，不用改\n    # （100，100）：表示检测人脸最小的人脸，低于100 * 100的人脸检测不出\n    # （300，300）：表示能检测到最大的人脸，高于300 * 300的人脸检测不出\n    face = face_detect.detectMultiScale(gary, 1.01, 5, 0, (100, 100), (300, 300))\n    # face人脸识别的位置\n    for x, y, w, h in face:\n        # 读取人脸识别的位置与响应的区域大小，并画正方形圈出来。\n        cv2.rectangle(frame, (x, y), (x + w, y + h), color=(0, 0, 255), thickness=2)\n        # 读取人脸识别的位置与响应的区域大小，并画圆出来。\n        # cv2.circle(frame, center=(x + w // 2, y + h // 2), radius=w // 2, color=(0, 255, 0), thickness=1)\n    # 在capture窗体中展示图像\n    cv2.imshow(\"capture\", frame)\n\n\n# 释放内存\ncap.release()\ncv2.destroyAllWindows()\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br")])]),t("h3",{attrs:{id:"_4、训练数据-生成人脸数据保存到文件中"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、训练数据-生成人脸数据保存到文件中"}},[s._v("#")]),s._v(" 4、训练数据（生成人脸数据保存到文件中）")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" os\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" cv2\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" PIL "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Image\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" numpy "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" np\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getImageAndLabels")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 人脸数据信息")]),s._v("\n    facesSamples"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 人脸数据信息id（编号）")]),s._v("\n    ids"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 全部的图片路径")]),s._v("\n    imagePaths"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("os"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("join"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("f"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" f "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" os"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("listdir"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用opencv提供的分类器检测人脸")]),s._v("\n    face_detector "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CascadeClassifier"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'opencv4.6/haarcascade_frontalface_alt2.xml'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打印数组imagePaths")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# print('数据排列：',imagePaths)")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 遍历列表中的图片")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" imagePath "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" imagePaths"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 打开图片,黑白化")]),s._v("\n        PIL_img"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("Image"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("open")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("imagePath"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("convert"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'L'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将图像转换为数组，以黑白深浅")]),s._v("\n        img_numpy "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" np"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("array"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PIL_img"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'uint8'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取图片人脸特征")]),s._v("\n        faces "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" face_detector"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("detectMultiScale"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("img_numpy"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取当前照片的文件名")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("id")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" imagePath"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("split"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("split"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# face人脸识别的位置")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("w"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("h "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" faces"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# id是文件名")]),s._v("\n            ids"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("append"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# img_numpy[y:y+h,x:x+w]人脸识别数据")]),s._v("\n            facesSamples"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("append"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("img_numpy"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("y"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("h"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("w"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" facesSamples"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ids\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" __name__ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'__main__'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取全部保存的图片路径")]),s._v("\n    path "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'img/'")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取图像数组和id标签数组和姓名")]),s._v("\n    faces"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ids "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" getImageAndLabels"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取训练对象")]),s._v("\n    recognizer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("face"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LBPHFaceRecognizer_create"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 人脸数据写入")]),s._v("\n    recognizer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("train"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("faces"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" np"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("array"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ids"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" dtype"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("np"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("int64"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 保存文件到trainer.yml中")]),s._v("\n    recognizer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("write"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'trainer.yml'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"训练数据完成！"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br")])]),t("h3",{attrs:{id:"_5、人脸识别"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5、人脸识别"}},[s._v("#")]),s._v(" 5、人脸识别")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" cv2\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#加载训练数据集文件")]),s._v("\nrecogizer"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("face"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("LBPHFaceRecognizer_create"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nrecogizer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("read"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'trainer.yml'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nwarningtime "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 准备识别的图片")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("face_detect_demo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("img"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 当前帧图片转换为转换为灰度")]),s._v("\n    gray "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cvtColor"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("img"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("COLOR_BGR2GRAY"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用opencv提供的分类器检测人脸")]),s._v("\n    face_detector "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CascadeClassifier"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'opencv4.6/haarcascade_frontalface_alt2.xml'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 检测")]),s._v("\n    face "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" face_detector"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("detectMultiScale"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("gray"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("CASCADE_SCALE_IMAGE"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("300")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# face=face_detector.detectMultiScale(gray)")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("w"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("h "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" face"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 读取人脸识别的位置与响应的区域大小，并画正方形圈出来。")]),s._v("\n        cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rectangle"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("img"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("w"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("y"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("h"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("color"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("thickness"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 读取人脸识别的位置与响应的区域大小，并画圆出来。")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cv2.circle(img,center=(x+w//2,y+h//2),radius=w//2,color=(0,255,0),thickness=1)")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 人脸识别")]),s._v("\n        ids"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" confidence "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" recogizer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("predict"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("gray"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("y"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" h"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("x "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" w"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# print('图片id:',ids,'置信评分：', confidence) # 置信评分越低，准确度越高")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# if confidence > 60:")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" confidence "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("putText"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("img"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'unkonw'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FONT_HERSHEY_SIMPLEX"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.75")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("putText"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("img"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("str")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ids"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FONT_HERSHEY_SIMPLEX"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.75")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("255")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("imshow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'result'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("img"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\ncap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("VideoCapture"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cap=cv2.VideoCapture('1.mp4')")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    flag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("frame "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cap"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("read"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("not")]),s._v(" flag"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 人脸识别")]),s._v("\n    face_detect_demo"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("frame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("ord")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'q'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" cv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("waitKey"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),s._v("\ncv2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("destroyAllWindows"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ncap"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("release"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br")])]),t("p",[s._v("简单的人脸识别分成3步可以实现了")]),s._v(" "),t("ul",[t("li",[s._v("1、人脸保存为图像")]),s._v(" "),t("li",[s._v("2、根据图像生成人脸数据")]),s._v(" "),t("li",[s._v("3、通过人脸数据进行人脸识别")])]),s._v(" "),t("p",[t("font",{staticStyle:{color:"red"}},[t("strong",[s._v("完整功能的人脸识别+注释代码够几千行了，粘贴到这里不太合适，就放到了百度网盘，https://pan.baidu.com/s/1uPZ0tG_6ZemfA4cU7_ztHQ?pwd=ze8j ，博客文件夹中，ai.py就是，使用教程以及说明请看下面")])])],1),s._v(" "),t("h2",{attrs:{id:"二、功能全一点的人脸识别-可以联网-语音操作-该网盘文件夹中程序源码介绍ai-py"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、功能全一点的人脸识别-可以联网-语音操作-该网盘文件夹中程序源码介绍ai-py"}},[s._v("#")]),s._v(" 二、功能全一点的人脸识别，可以联网，语音操作(该网盘文件夹中程序源码介绍ai.py)")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("上面的百度网盘中，有个已开发完成的zip文件，正是我做的大学作业，python已打包为exe可执行文件(仅Windows64位系统可以用)，使用时，请给改程序摄像头和语音权限即可")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("百度网盘")]),s._v("中有个"),t("strong",[s._v("博客")]),s._v("文件夹，里面有全部你想要的代码")])]),s._v(" "),t("li",[t("p",[s._v("如果上面的基本使用没有看懂，你可以去b站看这个视频 "),t("a",{attrs:{href:"https://www.bilibili.com/video/BV1Lq4y1Z7dm/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://www.bilibili.com/video/BV1Lq4y1Z7dm/"),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://www.xfyun.cn/services/voicedictation",target:"_blank",rel:"noopener noreferrer"}},[s._v("科大讯飞官网"),t("OutboundLink")],1),s._v("，官网提供的文章很详细，网上也有很多教程，这边不做过多的介绍")])])]),s._v(" "),t("h3",{attrs:{id:"_1、部署本地环境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、部署本地环境"}},[s._v("#")]),s._v(" 1、部署本地环境")]),s._v(" "),t("p",[s._v("首先需要安装依赖，可以手动安装也可以一键全部安装")]),s._v(" "),t("h4",{attrs:{id:"_1-1、方式1-一个一个pip-install"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1、方式1-一个一个pip-install"}},[s._v("#")]),s._v(" 1.1、方式1(一个一个pip install)")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("numpy"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.23")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".2")]),s._v("\nopencv_python"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.6")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".66")]),s._v("\nopencv"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("contrib"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("python"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.6")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".66")]),s._v("\noss2"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.16")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),s._v("\nPillow"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.3")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),s._v("\nPyAudio"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.2")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".12")]),s._v("\nPyMySQL"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".2")]),s._v("\nrequests"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.28")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v("\nwebsocket_client"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.4")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".2")]),s._v("\nXlsxWriter"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".3")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h4",{attrs:{id:"_1-2、方式2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2、方式2"}},[s._v("#")]),s._v(" 1.2、方式2")]),s._v(" "),t("p",[s._v("在cmd窗口中执行，可一键安装全部依赖")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("pip install "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("r requirements"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("txt\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2、使用的核心技术"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、使用的核心技术"}},[s._v("#")]),s._v(" 2、使用的核心技术")]),s._v(" "),t("ul",[t("li",[s._v("使用"),t("strong",[s._v("阿里云OSS")]),s._v("用于存储照片")]),s._v(" "),t("li",[s._v("使用"),t("strong",[s._v("MySQL")]),s._v("做照片与人员姓名对应，并存放打卡记录")]),s._v(" "),t("li",[s._v("使用科大讯飞做语音转换，使用的是"),t("strong",[s._v("websocket")]),s._v("技术")]),s._v(" "),t("li",[s._v("人脸检测使用的"),t("strong",[s._v("opencv")])]),s._v(" "),t("li",[s._v("使用第三方库"),t("strong",[s._v("xlsxwriter")]),s._v("导出Excel")]),s._v(" "),t("li",[s._v("本地语音播报使用第三方库pyaudio，声音文件下载自"),t("strong",[s._v("科大讯飞")])]),s._v(" "),t("li",[s._v("本项目多次使用"),t("strong",[s._v("多线程threading")])])]),s._v(" "),t("h3",{attrs:{id:"_3、使用教程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、使用教程"}},[s._v("#")]),s._v(" 3、使用教程")]),s._v(" "),t("ul",[t("li",[s._v("1.运行本地部署环境请跑main.py")]),s._v(" "),t("li",[s._v("2.运行可执行文件aiface.exe")])]),s._v(" "),t("p",[t("strong",[s._v("本系统语音检测关键字有以下内容：")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("录入人脸（或者人脸录入，执行成功后保存人脸信息到库中）")])]),s._v(" "),t("li",[t("p",[s._v("训练数据（更新库中的人脸信息，本系统将人脸数据信息跑在内存中，为了节省内存未设置实时刷新）")])]),s._v(" "),t("li",[t("p",[s._v("刷新（和训练数据功能相同）")])]),s._v(" "),t("li",[t("p",[s._v("打卡（根据当前人脸信息进行打卡）")])]),s._v(" "),t("li",[t("p",[s._v("导出录入（导出所有的人脸录入信息）")])]),s._v(" "),t("li",[t("p",[s._v("导出打卡（导出所有的人脸打卡信息）")])]),s._v(" "),t("li",[t("p",[s._v("导出全部（导出全部信息，即录入信息和打卡信息再同一个Excel中）\n语音检测以系统翻译为准，一句话只需要包含关键字切连续即可")])])]),s._v(" "),t("p",[t("img",{attrs:{src:a(503),alt:"1668179600490"}})]),s._v(" "),t("h4",{attrs:{id:"_3-1、录入人脸信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1、录入人脸信息"}},[s._v("#")]),s._v(" 3.1、录入人脸信息")]),s._v(" "),t("p",[s._v("在"),t("strong",[s._v("文本框中输入你的名字")]),s._v("，然后对着麦克风说 "),t("strong",[s._v("录入人脸")]),s._v("或"),t("strong",[s._v("人脸录入")]),s._v(" ，录入成功后系统即可显示名字，然后就可以进行打卡操作了")]),s._v(" "),t("h4",{attrs:{id:"_3-2、打卡"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2、打卡"}},[s._v("#")]),s._v(" 3.2、打卡")]),s._v(" "),t("p",[s._v("当系统检测到你有名字存在时，你对着麦克风说 "),t("strong",[s._v("打卡")]),s._v(" ，系统会打卡成功，每天可以多次打卡，当系统中的打卡数据存在时，系统会判断是新增打卡信息还是修改打卡信息，并更新当日打卡的次数。")]),s._v(" "),t("h4",{attrs:{id:"_3-3、导出"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3、导出"}},[s._v("#")]),s._v(" 3.3、导出")]),s._v(" "),t("p",[s._v("对着麦克风说"),t("strong",[s._v("导出全部")]),s._v("，稍后会在本目录下导出一个Excel文件，文件名为全部数据.xlsx，如下图：")]),s._v(" "),t("p",[t("img",{attrs:{src:a(504),alt:"1668179589955"}})]),s._v(" "),t("p",[s._v("基本的大致上就这些，使用一段时间你会觉得语音系统总是断开，因为使用的webscoket，心跳检测还是没写好，写的不是太完美，当然，我也想过不用科大讯飞的在线语音转换，尝试后失败了，错误率太高了，如果以后在遇到吧，我会深入学习一下。\n"),t("strong",[s._v("过两天趁着交作业需要录视频，正好也放到这里。")])]),t("style",[s._v("\n/* .live2d_canvas{\nleft: 275px !important;\ntop: 111px !important;\n} */\n")]),t("p")])}),[],!1,null,null,null);t.default=e.exports}}]);