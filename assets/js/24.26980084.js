(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{492:function(s,a,t){s.exports=t.p+"assets/img/1666447092898.ab3317f6.png"},493:function(s,a,t){s.exports=t.p+"assets/img/1666447422025.0f846f5e.png"},597:function(s,a,t){"use strict";t.r(a);var e=t(2),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("介绍")]),s._v(" "),a("p",[s._v("frp 是一个开源、简洁易用、高性能的内网穿透和反向代理软件，支持 tcp, udp, http, https等协议。frp 项目官网是 "),a("a",{attrs:{href:"https://github.com/fatedier/frp",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/fatedier/frp"),a("OutboundLink")],1)])]),s._v(" "),a("h2",{attrs:{id:"_1、介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、介绍"}},[s._v("#")]),s._v(" 1、介绍")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("因好朋友上班遇到以下需求，钉钉某事件回调需要公网ip，而本地开发环境都是动态ipv4，无固定的ip地址，现在内网穿透一般都会想到花生壳等第三方工具，一般的话都收费，有的还要实名认证很是麻烦。")])]),s._v(" "),a("li",[a("p",[s._v("2022年7月前钉钉的自带的内网穿透比较好用，可惜钉钉关闭了该功能"),a("a",{attrs:{href:"https://open.dingtalk.com/document/resourcedownload/http-intranet-penetration",target:"_blank",rel:"noopener noreferrer"}},[s._v("钉钉内网穿透文档(需自行搭配)"),a("OutboundLink")],1)])]),s._v(" "),a("li",[a("p",[s._v("平时学习或者开发时，也有很多时候需要用到内网穿透，如前后端开发，或者云服务器内存不够时，使用该方式进行运行环境等等")])]),s._v(" "),a("li",[a("p",[s._v("内网穿透不止frp，仅两年的nps也很火，使用简单，以及ngrok,lanproxy,goproxy，推荐frp和nps，nps后起之秀，本博客用于介绍frp")])])]),s._v(" "),a("p",[a("font",{attrs:{color:"red"}},[s._v("注意：需要开放防火墙端口，云服务器后台的安全组，安装客户端请退出杀毒软件")])],1),s._v(" "),a("h2",{attrs:{id:"_2、云服务器安装frp服务端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、云服务器安装frp服务端"}},[s._v("#")]),s._v(" 2、云服务器安装frp服务端")]),s._v(" "),a("div",{staticClass:"language-linux line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("wget https://github.com/fatedier/frp/releases/download/v0.40.0/frp_0.40.0_linux_amd64.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("安装完成后解压")]),s._v(" "),a("div",{staticClass:"language-linux line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("tar -zxvf frp_0.40.0_linux_amd64.tar.gz\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("解压完毕后进入文件夹，查看配置文件")]),s._v(" "),a("div",{staticClass:"language-linux line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("cd frp_0.40.0_linux_amd64\nvim frps.ini\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("显示以下内容")]),s._v(" "),a("div",{staticClass:"language-linux line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[common]\nbind_port = 7000 # 是服务端的端口，记得防火墙\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language-linux line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("lsof -i:7000 # 查询当前端口是否被占用\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-linux line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("./frps -c frps.ini # 启动frp服务端(前台启动，ctrl+c结束)\n\n# nohup ./frps -c frps.ini > /dev/null 2> /dev/null & # 后台启动frp服务端\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("服务端配置🆗了")]),s._v(" "),a("h2",{attrs:{id:"_3、客户端设置内网穿透"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、客户端设置内网穿透"}},[s._v("#")]),s._v(" 3、客户端设置内网穿透")]),s._v(" "),a("p",[a("a",{attrs:{href:"https%3A%2F%2Fgithub.com%2Ffatedier%2Ffrp%2Freleases%2Fdownload%2Fv0.40.0%2Ffrp_0.40.0_windows_amd64.zip"}},[s._v("github下载链接")])]),s._v(" "),a("p",[s._v("解压之后进入文件夹，并打开frpc.ini")]),s._v(" "),a("div",{staticClass:"language-linux line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[common]\nserver_addr = 你云服务器的公网ip地址\nserver_addr = 7000 # 你云服务器内设置的端口号 \ntls_enable = true\n    \n[ssh]\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 8080  # (windows远程默认端口，也就是你要内网穿透的端口，你内网的端口)\nremort_port = 8080 # (公网下要访问的端口)\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("使用dos命令窗口即cmd，输入一下命令启动")]),s._v(" "),a("div",{staticClass:"language-linux line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("frpc -c frpc.ini\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("如下图所示，表示启动成功")]),s._v(" "),a("p",[a("img",{attrs:{src:t(492),alt:"1666447092898"}})]),s._v(" "),a("p",[a("img",{attrs:{src:t(493),alt:"1666447422025"}})]),s._v(" "),a("p",[s._v("你也可以使用nginx反向代理，使用域名访问该接口，并配置ssl即https访问，如有疑问留言即可")])])}),[],!1,null,null,null);a.default=n.exports}}]);